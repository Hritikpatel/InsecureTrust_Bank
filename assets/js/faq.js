
const accountFAQ = [
  {
    question: "How do I open a bank account?",
    answer:
      `To open a bank account with us, follow these steps:

      <br> 1.  Visit our nearest branch or apply online through our website.
      <br> 2. Choose the type of account that suits your needs (e.g., savings, checking, or a specific product).
      <br> 3. Provide the required identification documents, such as a valid government-issued ID, proof of address, and Social Security Number.
      <br> 4. Complete the application form with accurate personal information.
      <br> 5. Make an initial deposit as per the account's minimum balance requirement.
      <br> 6. Review and accept the terms and conditions.
      <br> 7. Once your application is approved, you'll receive your account details and can start using your new account.`
  },
  {
    question: "What types of bank accounts do you offer?",
    answer:
      `We offer a variety of bank account options to meet your financial goals, including:
        <br>
          <br><b>Savings Accounts</b>: Ideal for setting money aside and earning interest.
          <br><b>Checking Accounts</b>: For day-to-day transactions and bill payments.
          <br><b>Certificates of Deposit (CDs)</b>: Fixed-term deposits with competitive interest rates.
          <br><b>Money Market Accounts</b>: Combining the benefits of savings and checking accounts.
          <br><b>Individual Retirement Accounts (IRAs)</b>: Tax-advantaged retirement savings.
          <br><b>Business Accounts</b>: Tailored to the needs of business owners.
          <br><b>Student Accounts</b>: Designed for students with special benefits.
          <br><b>Specialty Accounts</b>: Such as health savings accounts (HSAs) and more.
        <br>
      `
  },
  {
    question: "How can I change my account information?",
    answer:`
    You can update your account information by visiting a branch or following these steps:
    <br>
    <br>1. Log in to your online banking account.
    <br>2. Navigate to the "Account Settings" or "Profile" section.
    <br>3. Select the information you want to update (e.g., address, phone number, email).
    <br>4. Follow the on-screen instructions to make the changes.
    <br>5. Verify the changes through a secure authentication method.
    <br><br>
    Please note that some changes, such as name changes or significant updates, may require additional documentation and approval.
    `
  },
  {
    question: "How do I close my account?",
    answer:
      `
      To close your account, please visit a branch or contact our customer support. Before closing your account, consider the following:
        <br>
        <br>1. Ensure all outstanding transactions are cleared.
        <br>2. Withdraw any remaining balance or transfer it to another account.
        <br>3. Cancel any automatic payments or direct deposits linked to the account.
        <br>4. Verify if there are any account closure fees.
        <br>5. Bring valid identification and your account details to the branch if required.
        <br><br>Once all necessary steps are completed, your account will be closed, and you will receive confirmation.
      `
  },
  {
    question: "Do you provide additional support ?",
    answer:
      "Chat and email support is available 24/7. Phone lines are open during normal business hours."
  }
];

const onlineBankingFAQ = [
  {
    question: "How do I sign up for online banking?",
    answer:
      ` To sign up for online banking, follow these steps:
        <br>
      <br>1. Visit our website or download our mobile banking app.
      <br>2. Click on the "Sign Up" or "Register" option.
      <br>3. Provide your account information, including your account number and personal details.
      <br>4. Create a username and password for your online banking access.
      <br>5. Set up security questions or two-factor authentication (2FA) if required.
      <br>6. Review and accept the terms and conditions.
      <br>7. Complete the registration process.
      <br><br>Once registered, you can log in to your online banking account using your username and password.<br><br>`
  },
  {
    question: "What services are available through online banking?",
    answer:
      `Our online banking services offer a range of convenient features, including:
        <br>
          <br><b>View Account Balances</b>: Check your account balances in real-time.
          <br><b>Transaction History</b>: Review past transactions and statements.
          <br><b>Fund Transfers</b>: Review past transactions and statements.
          <br><b>Bill Payment</b>: Pay bills electronically.
          <br><b>Mobile Check Deposit</b>: Deposit checks using your mobile device.
          <br><b>Account Alerts</b>: Set up notifications for account activity.
          <br><b>Account Management</b>: Update account information and contact details.
          <br><b>eStatements</b>: Access electronic account statements.
        <br>
      `
  },
  {
    question: " How can I reset my online banking password?",
    answer:`
    To reset your online banking password:
    <br>
    <br>1. Visit the online banking login page.
    <br>2. Click on the "Forgot Password" or "Reset Password" link.
    <br>3. Provide your username and follow the prompts to verify your identity.
    <br>4. Choose a new password and confirm it.
    <br>5. Log in using your new password.
    <br><br>
    If you encounter any issues during the password reset process, contact our customer support for assistance.
    `
  },
  {
    question: "How do I set up mobile banking?",
    answer:
      `
      Setting up mobile banking is easy:
        <br>
        <br>1. Download our mobile banking app from your device's app store.
        <br>2. Open the app and follow the on-screen instructions.
        <br>3. Enter your online banking username and password.
        <br>4. Set up any additional security features, such as biometric login (fingerprint or face recognition) or a PIN.
        <br>5. You're now ready to use mobile banking on your device.
        <br><br>Once all necessary steps are completed, your account will be closed, and you will receive confirmation.
      `
  },
  {
    question: "Is online banking secure?",
    answer:
      "Yes, online banking is secure. We employ multiple security measures to protect your online banking experience, including encryption, secure login methods, and monitoring for unusual account activity. It's essential to follow best practices, such as using strong passwords and keeping your login credentials confidential, to further enhance security."
  }
];

const transactionFAQ = [
  {
    question: "How do I make a deposit?",
    answer:
      `You can make deposits using several methods:
      <br>
          <br><b>In-Person Deposits</b>: Visit one of our branch locations and use the deposit slip provided. Hand the deposit slip and your funds to a teller for processing.
          <br><b>ATM Deposits</b>: Use our ATMs to deposit cash or checks. Follow the on-screen instructions and insert your funds into the deposit slot.
          <br><b>Mobile Check Deposit</b>: Use our mobile banking app to deposit checks. Take a clear photo of the front and back of the check and follow the app's instructions.
          <br><b>Direct Deposit</b>: Set up direct deposit with your employer to have your paycheck or other income deposited directly into your account.
        <br>`
  },
  {
    question: "How can I transfer money between accounts?",
    answer:
      `You can transfer money between your accounts through online banking or our mobile app:
      <br>
      <br>1. Log in to your online banking account.
      <br>2. Navigate to the "Transfer Funds" or "Move Money" section.
      <br>3. Select the accounts you want to transfer money from and to.
      <br>4. Enter the amount and any additional details.
      <br>5. Confirm the transfer, and it will be processed.
      <br><br>
      You can also set up recurring transfers for convenience.
      `
  },
  {
    question: "How can I order checks?",
    answer:`
    To order checks, you can:
    <br>
    <br>1. Log in to your online banking account and look for the option to reorder checks in the "Services" or "Account Management" section.
    <br>2. Visit a branch location and request to order checks in person.
    <br>3. Contact our customer support, and they will assist you in placing an order for checks.
    <br><br>
    You'll need to provide your account information and select the check design you prefer. There may be a fee associated with ordering checks, which will be disclosed during the ordering process.
    `
  },
  {
    question: "What are the fees for wire transfers?",
    answer:
      "Wire transfer fees can vary based on factors like the type of wire transfer (domestic or international), the receiving bank's policies, and the amount being transferred. Please refer to our fee schedule on our website or contact our customer support for the most up-to-date information on wire transfer fees."
  }
];

const creditFAQ = [
  {
    question: "How do I apply for a credit card or loan?",
    answer:
      `To apply for a credit card or loan with us, follow these general steps:

      <br> 1.  Visit our website or a branch location to explore our available credit card and loan options.
      <br> 2. Select the specific credit card or loan product that suits your needs.
      <br> 3. Click on the "Apply Now" button or visit a branch to start the application process.
      <br> 4. Complete the application form, providing accurate personal and financial information.
      <br> 5. Submit any required documentation, such as proof of income or identification.
      <br> 6. Review and accept the terms and conditions associated with the credit card or loan.
      <br> 7. Wait for the application to be processed and receive a decision.
      <br>
      The specific application process may vary based on the type of credit card or loan you're applying for. Be sure to review the eligibility criteria and application requirements for the particular product you're interested in.
      `
  },
  {
    question: "How can I check my credit score?",
    answer:
      `You can check your credit score through various credit reporting agencies or credit monitoring services. Here are some steps to consider:
        <br>
          <br><b>1. Annual Credit Report</b>: By law, you are entitled to a free credit report from each of the major credit reporting agencies (Equifax, Experian, and TransUnion) once a year. Visit AnnualCreditReport.com to request your free reports.
          <br><b>2. Credit Monitoring Services</b>: Consider using a credit monitoring service that provides access to your credit score and credit report. Many services offer free trials or subscription-based plans.
          <br><b>3. Credit Card Issuers</b>: Some credit card issuers provide free access to your credit score through their online banking platforms.
          <br><b>4. Credit Reporting Agencies</b>: Contact the credit reporting agencies directly to request your credit report and score. They may charge a fee for this service.
          <br>
          Regularly monitoring your credit score can help you stay informed about your creditworthiness and detect any potential issues or inaccuracies.
        <br>
      `
  },
  {
    question: "What happens if I miss a loan payment?",
    answer:`
    Missing a loan payment can have consequences, including:
    <br>
    <br><b>Late Fees</b>: You may incur late payment fees, which can increase the overall cost of your loan.
    <br><b>Negative Impact on Credit</b>:  Late payments can be reported to credit bureaus and negatively affect your credit score.
    <br><b>Default Risk</b>: Continued missed payments can lead to the loan going into default, which may result in legal action or collection efforts by the lender.
    <br><br>
    If you anticipate difficulty making a loan payment, it's essential to contact your lender as soon as possible. They may offer options such as loan forbearance, deferment, or modified repayment plans to help you manage your financial situation and avoid adverse consequences.
    <br><br>
    Always review the terms and conditions of your loan agreement to understand the specific penalties and actions that may occur in the event of a missed payment.
    `
  },
  {
    question: "What is the interest rate on loans?",
    answer:
      "Interest rates on loans can vary based on factors such as the type of loan, your creditworthiness, and prevailing market rates. To find out the current interest rate for a specific loan product, please visit our website or contact our customer support. We will provide you with the most up-to-date information on interest rates and loan terms."
  }
];

const otherFAQ = [
  {
    question: "Can I set up automatic bill payments?",
    answer:
        `Yes, you can set up automatic bill payments through our online banking or mobile banking services. Follow these steps:

        <br> 1. Log in to your online banking account.
        <br> 2. Navigate to the "Bill Pay" or "Payments" section.
        <br> 3. Add the payee (the company or individual you want to pay).
        <br> 4. Enter the payment amount and due date.
        <br> 5. Set up a recurring payment schedule (e.g., monthly).
        <br> 6. Review and confirm the payment details.

        Your bills will be automatically paid on the scheduled dates, reducing the need for manual payments.`
  },
  {
    question: "How can I request a mortgage pre-approval?",
    answer:
        `To request a mortgage pre-approval, please follow these steps:

        <br> 1. Visit our website or contact our mortgage department to start the pre-approval process.
        <br> 2. Provide your financial information, including income, expenses, and credit history.
        <br> 3. Our mortgage team will review your application and credit report.
        <br> 4. Once approved, you'll receive a pre-approval letter, which demonstrates your eligibility for a mortgage loan.

        A mortgage pre-approval can be a valuable tool when house hunting, as it helps you determine your budget and shows sellers that you're a serious buyer.`
  },
  {
    question: "How do I open a business account?",
    answer:
        `To open a business account with us, follow these steps:

        <br> 1. Visit one of our branch locations or contact our business banking department.
        <br> 2. Choose the type of business account that suits your needs (e.g., business checking, savings, or specialty accounts).
        <br> 3. Provide the necessary business documentation, such as your EIN (Employer Identification Number) or business registration documents.
        <br> 4. Complete the application form with accurate business information.
        <br> 5. Make an initial deposit as per the account's minimum balance requirement.
        <br> 6. Review and accept the terms and conditions.
        <br> 7. Once your application is approved, you'll receive your business account details and can start managing your finances.

        Opening a business account allows you to separate your business and personal finances, access business-specific banking services, and establish a strong financial foundation for your company.`
  },
  {
    question: "What business financing options are available?",
    answer:
        `We offer various business financing options to support your business growth, including:

        <br> - Business Loans: Provides capital for various business needs, such as expansion, equipment purchase, or working capital.
        <br> - Business Lines of Credit: Offers flexible access to funds for ongoing operational expenses.
        <br> - Small Business Administration (SBA) Loans: Government-backed loans with favorable terms for qualifying businesses.
        <br> - Commercial Real Estate Loans: Financing for purchasing or refinancing commercial properties.
        <br> - Business Credit Cards: Helps manage day-to-day expenses and earn rewards.
        <br> - Merchant Services: Accept payments and streamline payment processing for your business.

        Contact our business banking team to discuss your specific financing needs, and we'll assist you in finding the right solution for your business goals.`
  },
  {
    question: "Do you offer notary services?",
    answer:
        `Yes, we offer notary services at select branch locations. Our notary public can assist with notarizing various documents, including legal forms, affidavits, and more. Contact your nearest branch to inquire about notary availability and schedule an appointment if needed.`
  },
  {
    question: "How can I set up merchant services for my business?",
    answer:
        `Setting up merchant services for your business is simple:

        <br> 1. Contact our business banking department or visit our website to inquire about merchant services.
        <br> 2. Our team will guide you through the application process and gather necessary information about your business.
        <br> 3. We'll work with you to select the right payment processing solutions, such as point-of-sale (POS) systems, card terminals, or online payment gateways.
        <br> 4. Once the setup is complete, your business will be able to accept credit card and electronic payments securely.

        Merchant services help streamline your payment processing, enhance customer convenience, and facilitate efficient transactions for your business.`
  }
];

const mainContainerEl = document.getElementById("mainContainer");
var activeCategory = "account";
var tags = document.querySelectorAll(".tags");
const searchInput = document.getElementById("searchbar");
var oldData = document.getElementById("categories").innerHTML;
const searchTerm = document.getElementById("searchTerm");

// console.log(searchTerm.innerText);
var query = searchTerm.innerText.replace("Looking for ", "");
if (searchTerm.innerText.length > 0){
  console.log(query);
  document.getElementById("categories").innerHTML = '<li class="tags activeTag" id="result">Result</li>';
    searchFAQ(query);
}

// Function to display tab related questions
function FAQuestions(activeCategory) {
  if (activeCategory=="account"){
    return accountFAQ.forEach((item) => { // TODO if here
      return createHTMLElements(item.question, item.answer);
    });
  }
  else if (activeCategory=="banking"){
    return onlineBankingFAQ.forEach((item) => { // TODO if here
      return createHTMLElements(item.question, item.answer);
    });
  }
  else if (activeCategory=="trans"){
    return transactionFAQ.forEach((item) => { // TODO if here
      return createHTMLElements(item.question, item.answer);
    });
  }
  else if (activeCategory=="credit"){
    return creditFAQ.forEach((item) => { // TODO if here
       return createHTMLElements(item.question, item.answer);
    });
  }
  else if (activeCategory=="other"){
    return otherFAQ.forEach((item) => { // TODO if here
       return createHTMLElements(item.question, item.answer);
    });
  }
}

// Function to add questions and answers to website
function createHTMLElements(question, answer) {
  const card = document.createElement("div");
  card.classList.add("card");
  const questionCont = document.createElement("div");
  questionCont.classList.add("question");
  card.appendChild(questionCont);
  const questionPara = document.createElement("div");
  questionPara.classList.add("questionpara");
  const questionEl = document.createElement("p");
  questionCont.appendChild(questionPara);
  questionPara.appendChild(questionEl);
  questionEl.innerHTML = question;
  const arrowCont = document.createElement("div");
  const arrowImg = document.createElement("i");
  arrowImg.classList.add("fa-solid");
  arrowImg.classList.add("fa-angle-down");
  arrowImg.classList.add("fa-xl");
  arrowImg.style.color = "#ffffff";

  arrowCont.classList.add("arrowCont");
  arrowCont.appendChild(arrowImg);
  questionCont.appendChild(arrowCont);

  // Answer Element
  const answerCont = document.createElement("div");
  answerCont.classList.add("answer");
  const answerPara = document.createElement("div");
  answerPara.classList.add("answerPara");
  answerCont.appendChild(answerPara);
  const answerEl = document.createElement("p");
  answerEl.innerHTML = answer;
  answerPara.appendChild(answerEl);
  card.appendChild(answerCont);
  mainContainerEl.appendChild(card);
}

// Function to handle form submission
document.getElementById("form").addEventListener("submit", function(event) {
  
  // event.preventDefault(); // Prevent the default form submission behavior
  
  var searchbar = document.getElementById("searchbar");
  // Get form data
  var formData = searchbar.value;
  // searchTerm.innerText = formData
  document.getElementById("categories").innerHTML = '<li class="tags activeTag" id="result">Result</li>';
  searchFAQ(formData);

});

tags.forEach(function(tag) {
  tag.addEventListener("click", function() {
    
    var oldActiveCategory = activeCategory;
    activeCategory = this.id;
    mainContainerEl.innerHTML = "";
    FAQuestions(activeCategory)

    if(oldActiveCategory!==activeCategory){
      document.getElementById(activeCategory).classList.add("activeTag")
      document.getElementById(oldActiveCategory).classList.remove("activeTag")
    }

    
  });
});

mainContainerEl.addEventListener("click", function(event) {
  const clickedElement = event.target;
  const card = clickedElement.closest(".card");
  
  if (card) {
    // Toggle the "Queactive" class for the clicked card
    card.classList.toggle("Queactive");
    
    // Close other cards if necessary
    const allCont = mainContainerEl.querySelectorAll(".card");
    allCont.forEach((item) => {
      if (item !== card) {
        item.classList.remove("Queactive");
      }
    });
  }
});

// Function to search and display results
function searchFAQ(query) {
  mainContainerEl.innerHTML = ""; // Clear previous results

  // Combine all FAQ arrays into one array for searching
  const allFAQs = [
    ...accountFAQ,
    ...onlineBankingFAQ,
    ...transactionFAQ,
    ...creditFAQ,
    ...otherFAQ
  ];

  // Filter FAQs based on the search query
  const matchingFAQs = allFAQs.filter((faq) => {
    return faq.question.toLowerCase().includes(query.toLowerCase());
  });

  // Display matching results
  if (matchingFAQs.length === 0) {
    mainContainerEl.innerHTML = "No matching results found.";
  } else {
    matchingFAQs.forEach((faq) => {
      createHTMLElements(faq.question, faq.answer)
    });
  }
}

// Event listener for search input changes
searchInput.addEventListener("input", function () {
  const query = this.value;
  if (query.length===0) {
    document.getElementById("categories").innerHTML = oldData;
    document.getElementById("searchTerm").innerText = "";
  } else {
    document.getElementById("searchTerm").innerText = "Looking for "+query;
    document.getElementById("categories").innerHTML = '<li class="tags activeTag" id="result">Result</li>';
    searchFAQ(query);
  }
});

FAQuestions(activeCategory);